<html>
<body>


<h1>My TaskBoard</h1>





Task: <input type="text" id="myTask">

<button type="button" onclick=addtoTODO()>
Push task to TODO list.</button>



<br></br>
<br></br>

Need Pending List as well ??
<button type="button" onclick=addpending()>
yes</button>
<button type="button" onclick=ignorepending()>
no</button>


<script>

var btn =10000;	
var pending =true;

function addpending(){
	pending = true;
	
	}
	
function ignorepending(){
	
	pending = false;
	
	}
	
function addtoTODO(){
	if(document.getElementById("myTask").value){
	btn = btn +1 ;
	
	var table = document.getElementById("TODO");
    var row = table.insertRow(0);
    var cell1 = row.insertCell(0);
   
    cell1.innerHTML = document.getElementById("myTask").value;
    
 
    var cell2 = row.insertCell(1);
    cell2.innerHTML = "<button class = '"+btn+"' onclick= pushtoComplete("+btn+")>done</button>";
    //btn = btn +1 ;
    var cell3 = row.insertCell(2);
    cell3.innerHTML = "<button class = '"+btn+"' onclick = pushtoHistory("+btn+")>remove</button>";
    
    if(pending == true){
		var cell4 = row.insertCell(3);
    cell4.innerHTML = "<button class = '"+btn+"' onclick = pushtopending("+btn+")>push to pending</button>";
		
		}
    }
    else {
		window.alert("Task can not be empty ..!!");
		
		}
}

function pushtopending(event){
	btn = btn +1 ;
	
	var table = document.getElementById("Pending");
    var row = table.insertRow(0);
    var cell1 = row.insertCell(0);
   
    var one = document.getElementsByClassName(event);
    var five = one[0].parentNode;
    var two = five.parentNode;
    var three = two.firstChild;
    var four = three.textContent;
    
    cell1.innerHTML = four;
    
 
    var cell2 = row.insertCell(1);
    cell2.innerHTML = "<button class = '"+btn+"' onclick= pushtoComplete("+btn+")>done</button>";
    //btn = btn +1 ;
    var cell3 = row.insertCell(2);
    cell3.innerHTML = "<button class = '"+btn+"' onclick = pushtoHistory("+btn+")>remove</button>";
 
	var six = two.parentNode;
    six.removeChild(two);
    
    
}


function pushtoComplete(event){
	btn = btn +1 ;
	var table = document.getElementById("Complete");
    var row = table.insertRow(0);
    var cell1 = row.insertCell(0);
    
    //window.alert(event);
    
    var one = document.getElementsByClassName(event);
    var five = one[0].parentNode;
    var two = five.parentNode;
    var three = two.firstChild;
    var four = three.textContent;
    
    cell1.innerHTML = four;
    var cell2 = row.insertCell(1);
    cell2.innerHTML = "<button class = '"+btn+"' onclick= pushtoHistory("+btn+")>Move To History</button>";
    
    var six = two.parentNode;
    six.removeChild(two);
    
    	
	}

function pushtoHistory(event){
	btn = btn +1 ;
	var table = document.getElementById("History");
    var row = table.insertRow(0);
    var cell1 = row.insertCell(0);
    
    
    
    var one = document.getElementsByClassName(event);
    var five = one[0].parentNode;
    var two = five.parentNode;
    var three = two.firstChild;
    var four = three.textContent;
    
    cell1.innerHTML = four;
    var cell2 = row.insertCell(1);
    cell2.innerHTML = "<button class = '"+btn+"' onclick= deleteparamantly("+btn+")>delete permanantly</button>";
	
	var six = two.parentNode;
    six.removeChild(two);
    
	
	}
	
	
function push (event , location){
	
	
	btn = btn +1 ;
	var table = document.getElementById(location);
	
	if(table == null){
		
		table = document.createElement("TABLE");
		table.setAttribute("id",location);
		
		}
	
    var row = table.insertRow(0);
    var cell1 = row.insertCell(0);
    
    //window.alert(event);
    
    var one = document.getElementsByClassName(event);
    var five = one[0].parentNode;
    var two = five.parentNode;
    var three = two.firstChild;
    var four = three.textContent;
    
    cell1.innerHTML = four;
    var cell2 = row.insertCell(1);
    cell2.innerHTML = "<button class = '"+btn+"' onclick= push("+btn+")>Move</button>";
    
    var six = two.parentNode;
    six.removeChild(two);
	
	
	
	}
	
function deleteparamantly(event){
	
	var one = document.getElementsByClassName(event);
    var five = one[0].parentNode;
    var two = five.parentNode;
    var six = two.parentNode;
    six.removeChild(two);
    
	
	
	}

function mysave(){
	var savedTODO = document.getElementById("TODO").innerHTML;
	var savedComplete = document.getElementById("Complete").innerHTML;
	var savedHistory = document.getElementById("History").innerHTML;
	var savedPending = document.getElementById("Pending").innerHTML;
	
	//window.alert(saved);
	
	localStorage.setItem('todos', savedTODO);
	localStorage.setItem('complete', savedComplete);
	localStorage.setItem('history', savedHistory);
	localStorage.setItem('pending', savedPending);
	
	}

function reload() {
	
document.getElementById("TODO").innerHTML = localStorage.getItem('todos');
document.getElementById("Complete").innerHTML = localStorage.getItem('complete');
document.getElementById("History").innerHTML = localStorage.getItem('history');
document.getElementById("Pending").innerHTML = localStorage.getItem('pending');
}
window.onload = reload ;
window.onbeforeunload = mysave;

</script>







<p>TODO :</p>


<table id="TODO">
  
</table>


<p>Pending:</p>

<table id="Pending">
  
</table>


<p>Completed:</p>

<table id="Complete">
  
</table>



<p>History :</p>

<table id="History">
  
</table>





</body>
</html> 
